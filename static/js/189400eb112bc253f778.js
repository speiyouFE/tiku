(window["webpackJsonpSealUI"]=window["webpackJsonpSealUI"]||[]).push([[1],{KkrK:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"page-content"},[s("div",{staticClass:"sealui-panel folder-lists"},[s("div",{staticClass:"sealui-panel-heading"},[s("h2",[e._v(e._s(e.folder_name))])]),s("div",{staticClass:"sealui-panel-body"},[s("div",{staticClass:"sealui-panel is-default"},[s("div",{staticClass:"sealui-panel-heading"},[s("h3",{staticClass:"sealui-panel-title"},[e._v("\xa0")]),s("div",{staticClass:"panels-right"},[s("seal-button",{attrs:{type:"success",icon:"files"},on:{click:function(t){e.createPaperModal(e.folder_id)}}},[e._v("\u65b0\u5efapaper")])],1)]),e.paperLists.length>0?s("div",{staticClass:"sealui-panel-body"},[s("table",{staticClass:"table table-hover"},[e._m(0),s("tbody",e._l(e.paperLists,function(t){return s("tr",{key:t.paperId},[s("td",{attrs:{align:"left"}},[e._v(e._s(t.name))]),s("td",{attrs:{align:"right"}},[s("seal-button",{attrs:{type:"warning",icon:"edit"},on:{click:function(a){e.editPaper(e.folder_id,t.paperId)}}},[e._v("\u7f16\u8f91 paper")]),s("seal-button",{attrs:{type:"danger",icon:"delete"},on:{click:function(a){e.delPaperModal(e.folder_id,t.paperId)}}},[e._v("\u5220\u9664 paper")])],1)])}))])]):s("div",{staticClass:"sealui-panel-body"},[s("p",{staticClass:"no-data-tip"},[s("img",{attrs:{src:a("jnEV")}}),s("span",[e._v(e._s(e.noDataMessage))])])])])])]),s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{img:"https://jiaoyanfz.aibeike.com/haibian/images/40@2x.png",text:"\u8ba9\u6570\u636e\u98de\u4e00\u4f1a...",background:"rgba(0,0,0,.15)",color:"success"}})])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",{attrs:{align:"left",width:"70%"}},[e._v("Paper \u540d\u79f0")]),a("th",{attrs:{align:"left"}})])])}],n=(a("VRzm"),a("o26T")),i={name:"PaperList",mixins:[n["a"]],data:function(){return{folder_id:this.$route.query.folder_id,folder_name:this.$route.query.folder_name,subject_id:this.$route.query.subjectId,grade_id:this.$route.query.gradeId,paperLists:[],editPaperUrl:null}},created:function(){},mounted:function(){var e=this;this.$nextTick().then(function(){e.getPaperLists(e.folder_id)})},methods:{getPaperLists:function(e){var t=this;if(!e)return!1;this.loading=!0,this.$request({url:"paperFolders/".concat(e,"/papers")}).then(function(e){t.loading=!1,0==e.status&&e.result.length>0?t.paperLists=e.result:t.paperLists=[]},function(e){t.loading=!1,t.$message({type:"error",message:"\u670d\u52a1\u5668\u8fd4\u56de\u9519\u8bef"})})},createPaperModal:function(e){var t=this;this.$prompt("\u8bf7\u8f93\u5165\u65b0\u5efa Paper \u540d\u79f0","\u8bf7\u8f93\u5165\u65b0\u5efapaper\u540d\u79f0",{closeOnClickModal:!1,showClose:!1,customClass:"create-paper-modal",confirmButtonText:"\u521b \u5efa",cancelButtonText:"\u53d6 \u6d88",inputPlaceholder:"\u8bf7\u8f93\u5165\u65b0\u5efapaper\u540d\u79f0",inputPattern:/^[\u4e00-\u9fa5A-Za-z0-9-_]*$/,inputErrorMessage:"paper\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a\u4e14\u4e0d\u5305\u542b\u7279\u6b8a\u7b26\u53f7"}).then(function(a){var s=a.value;t.savePaperToServer(e,s)}).catch(function(){t.$message({type:"info",message:"\u53d6\u6d88\u521b\u5efa Paper"})})},savePaperToServer:function(e,t){var a=this;if(!e&&!t)return!1;this.loading=!0,this.$request({url:"paperFolders/".concat(e,"/papers"),method:"POST",data:{name:t,subjectId:this.subject_id||"",gradeId:this.grade_id||"",userId:sessionStorage.getItem("userId"),userName:sessionStorage.getItem("userName")}}).then(function(t){a.loading=!1,0==t.status?(a.$message({type:"success",message:"\u521b\u5efa\u6210\u529f"}),a.getPaperLists(e)):a.$message({type:"warning",message:t.message})},function(e){a.loading=!1,a.$message({type:"error",message:"\u670d\u52a1\u5668\u8fd4\u56de\u9519\u8bef"})})},delPaperModal:function(e,t){var a=this;this.$confirm("\u6b64\u64cd\u4f5c\u5c06\u6c38\u4e45\u5220\u9664\u8be5paper, \u662f\u5426\u7ee7\u7eed?","\u7cfb\u7edf\u63d0\u793a",{confirmButtonText:"\u5220\u5427\uff0c\u4e0d\u7ba1\u4e86",cancelButtonText:"\u8ba9\u6211\u518d\u8003\u8651\u4e00\u4e0b",closeOnClickModal:!1,showClose:!1,type:"warning"}).then(function(){a.delPaperToServer(e,t)}).catch(function(){a.$message({type:"info",message:"\u5df2\u53d6\u6d88\u5220\u9664"})})},delPaperToServer:function(e,t){var a=this;if(!e&&!folderName)return!1;this.loading=!0,this.$request({url:"paperFolders/".concat(e,"/papers/").concat(t),method:"DELETE"}).then(function(t){a.loading=!1,0==t.status?(a.$message({type:"success",message:"\u5220\u9664\u6210\u529f!"}),a.getPaperLists(e)):a.$message({type:"error",message:t.message})},function(e){a.loading=!1,a.$message({type:"error",message:"\u670d\u52a1\u5668\u8fd4\u56de\u9519\u8bef"})})},editPaper:function(e,t){var a=this;if(!e&&!folderName)return!1;this.$request({url:"paperFolders/".concat(e,"/papers/").concat(t),data:{userId:sessionStorage.getItem("userId"),userName:sessionStorage.getItem("userName")}}).then(function(e){0==e.status&&window.open(e.result,"_blank")},function(e){a.$message({type:"error",message:"\u670d\u52a1\u5668\u8fd4\u56de\u9519\u8bef"})})}}},o=i,l=(a("paft"),a("KHd+")),c=Object(l["a"])(o,s,r,!1,null,"e33cfcce",null);t["default"]=c.exports},RwVm:function(e,t,a){},jnEV:function(e,t,a){e.exports=a.p+"static/img/404.10124b6e.svg"},paft:function(e,t,a){"use strict";var s=a("RwVm"),r=a.n(s);r.a}}]);